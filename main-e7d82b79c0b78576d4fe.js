webpackJsonp([1],{137:function(e,t,n){"use strict";var r=n(27),a=r&&r.__esModule?function(){return r.default}:function(){return r};Object.defineProperty(a,"a",{get:a});var i=n(106),u=i&&i.__esModule?function(){return i.default}:function(){return i};Object.defineProperty(u,"a",{get:u});var o=n(277);u.a.render(a.a.createElement(o.a,null),document.getElementById("app"))},277:function(e,t,n){"use strict";var r=n(150),a=r&&r.__esModule?function(){return r.default}:function(){return r};Object.defineProperty(a,"a",{get:a});var i=n(142),u=i&&i.__esModule?function(){return i.default}:function(){return i};Object.defineProperty(u,"a",{get:u});var o=n(146),l=o&&o.__esModule?function(){return o.default}:function(){return o};Object.defineProperty(l,"a",{get:l});var c=n(147),s=c&&c.__esModule?function(){return c.default}:function(){return c};Object.defineProperty(s,"a",{get:s});var f=n(149),d=f&&f.__esModule?function(){return f.default}:function(){return f};Object.defineProperty(d,"a",{get:d});var m=n(148),v=m&&m.__esModule?function(){return m.default}:function(){return m};Object.defineProperty(v,"a",{get:v});var b=n(27),g=b&&b.__esModule?function(){return b.default}:function(){return b};Object.defineProperty(g,"a",{get:g});var h=n(189),y=h&&h.__esModule?function(){return h.default}:function(){return h};Object.defineProperty(y,"a",{get:y});var p=n(209),_=p&&p.__esModule?function(){return p.default}:function(){return p};Object.defineProperty(_,"a",{get:_});var w=n(203),k=w&&w.__esModule?function(){return w.default}:function(){return w};Object.defineProperty(k,"a",{get:k});var P=n(204),E=P&&P.__esModule?function(){return P.default}:function(){return P};Object.defineProperty(E,"a",{get:E});var N=n(278),T=n(279),M=T&&T.__esModule?function(){return T.default}:function(){return T};Object.defineProperty(M,"a",{get:M});var O=[37,38,39,40],j=O[0],S=O[1],G=O[2],x=O[3],z={2:j,8:S,4:G,16:x},Y={stiffness:800,damping:15},C=function(e){function t(e){l.a.bind()(this,t);var n=d.a.bind()(this,u.a.bind()(t).call(this,e));return n.state=n.getGameState(e),n.rotateGame=n.rotateGame.bind(n),n.orientGame=n.orientGame.bind(n),n.moveTile=n.moveTile.bind(n),n.shuffle=n.shuffle.bind(n),n.changeTileNumber=n.changeTileNumber.bind(n),n.swipe=n.swipe.bind(n),n}return v.a.bind()(t,e),s.a.bind()(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.moveTile),document.addEventListener("mousemove",this.rotateGame),window.addEventListener("deviceorientation",this.orientGame)}},{key:"orientGame",value:function(e){this.gameTiles.style.transform="rotateY("+-e.gamma+"deg)rotateX("+(e.beta-50)+"deg) "}},{key:"rotateGame",value:function(e){var t=e.layerX||e.offsetX,n=e.layerY||e.offsetY,r=-(window.innerWidth/2-t)/35,a=(window.innerHeight/2-n)/25;this.gameTiles.style.transform="rotateY("+r+"deg) rotateX("+a+"deg)"}},{key:"getGameState",value:function(e){var t=e.tileNumber,n=e.tileSize,r=Math.pow(t,2);return{tileSize:n,tileNumber:t,tileTotal:r,layout:k.a.range(r).map(function(e){var r=Math.floor(e/t),a=e%t;return[n*a,n*r]}),order:k.a.range(1,r+1),win:!1,isTouch:N.a.bind()()}}},{key:"shuffle",value:function(){this.recursiveShuffle(k.a.shuffle(O),1)}},{key:"recursiveShuffle",value:function(e,t){var n=this,r=k.a.take(e,3);k.a.forEach(r,function(e){return n.moveTile({keyCode:e})}),100>t&&this.recursiveShuffle(k.a.shuffle(O),t+1)}},{key:"changeTileNumber",value:function(e){var t=parseInt(e.currentTarget.value,10),n=this.getGameState({tileNumber:t,tileSize:window.innerWidth/t*.9});t>1&&this.setState(n)}},{key:"swipe",value:function(e){var t=e.direction,n=z[t];n&&this.moveTile({keyCode:n})}},{key:"moveTile",value:function(e){var t=e.keyCode,n=this.state,r=n.order,a=n.tileNumber,i=n.tileTotal,u=r.indexOf(i),o=-1;switch(t){case j:a-1>u%a&&(o=u+1);break;case S:o=u+a;break;case G:u%a>0&&(o=u-1);break;case x:o=u-a}if(!(0>o||o>=i)){var l=N.b.bind()(r,o,u),c=N.c.bind()(l);this.setState({order:l,win:c})}}},{key:"getKeyPos",value:function(e){var t=this.state,n=t.order,r=t.layout,a=n.indexOf(e);return r[a]}},{key:"render",value:function(){var e=this,t=this.state,n=t.win,r=t.order,i=t.tileNumber,u=t.tileTotal,o=t.tileSize,l=t.isTouch,c=y.a.bind()("game__container",{"game__container--win":n});return g.a.createElement("section",{className:"game"},g.a.createElement("header",{className:"game__actions"},g.a.createElement("button",{type:"button",onClick:this.shuffle},"Reset"),g.a.createElement("label",null,"Size:",g.a.createElement("input",{type:"number",size:"2",onChange:this.changeTileNumber,onKeyDown:function(e){return e.stopPropagation()},defaultValue:i}))),l&&g.a.createElement(E.a,{onSwipe:this.swipe,vertical:!0},g.a.createElement("div",{className:"game__layer"})),g.a.createElement("section",{className:c},g.a.createElement("div",{className:"game__platform",ref:function(t){return e.gameTiles=t}},g.a.createElement("div",{className:"game__tiles",style:{width:o*i,height:o*i}},r.map(function(t){var n=e.getKeyPos(t),r=a.a.bind()(n,2),i=r[0],l=r[1],c={translateX:p.spring.bind()(i,Y),translateY:p.spring.bind()(l,Y)};return g.a.createElement(p.Motion,{key:t,style:c},function(e){var n=e.translateX,r=e.translateY;e.display,e.width,e.height;return g.a.createElement("div",{className:"game__tile",style:{display:t===u?"none":"block",width:o,height:o,transform:"translate3d("+n+"px, "+r+"px, 0)"}},g.a.createElement("div",{className:"tile"},g.a.createElement("span",{className:"tile__text"},t)))})})),g.a.createElement("div",{className:"game__win"},g.a.createElement("span",null,"YOU WIN")))))}}]),t}(b.Component);C.defaultProps={tileSize:window.innerWidth/4*.9,tileNumber:4},t.a=C},278:function(e,t,n){"use strict";var r=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0};Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return r}});var a=function(e,t,n){var r=e[n];return e[n]=e[t],e[t]=r,e};Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return a}});var i=function(e){return _.every(e,function(e,t,n){return 0===t||n[t-1]<e})};Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return i}})},279:function(e,t){},282:function(e,t,n){e.exports=n(137)}},[282]);
//# sourceMappingURL=main-e7d82b79c0b78576d4fe.js.map