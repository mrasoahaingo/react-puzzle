webpackJsonp([1],{182:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(17),u=o&&o.__esModule?function(){return o.default}:function(){return o};Object.defineProperty(u,"a",{get:u});var l=n(94),c=l&&l.__esModule?function(){return l.default}:function(){return l};Object.defineProperty(c,"a",{get:c});var s=n(114),f=s&&s.__esModule?function(){return s.default}:function(){return s};Object.defineProperty(f,"a",{get:f});var d=n(108),m=d&&d.__esModule?function(){return d.default}:function(){return d};Object.defineProperty(m,"a",{get:m});var v=n(109),b=v&&v.__esModule?function(){return v.default}:function(){return v};Object.defineProperty(b,"a",{get:b});var h=n(183),y=n(184),p=y&&y.__esModule?function(){return y.default}:function(){return y};Object.defineProperty(p,"a",{get:p});var g=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&u.return&&u.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=[37,38,39,40],E=w[0],k=w[1],T=w[2],O=w[3],N={2:E,8:k,4:T,16:O},P={stiffness:800,damping:15},S=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this,e));return n.state=n.getGameState(e),n.rotateGame=n.rotateGame.bind(n),n.orientGame=n.orientGame.bind(n),n.moveTile=n.moveTile.bind(n),n.shuffle=n.shuffle.bind(n),n.changeTileNumber=n.changeTileNumber.bind(n),n.swipe=n.swipe.bind(n),n}return i(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.moveTile),document.addEventListener("mousemove",this.rotateGame),window.addEventListener("deviceorientation",this.orientGame)}},{key:"orientGame",value:function(e){this.gameTiles.style.transform="rotateY("+-e.gamma+"deg)rotateX("+(e.beta-50)+"deg) "}},{key:"rotateGame",value:function(e){var t=e.layerX||e.offsetX,n=e.layerY||e.offsetY,r=-(window.innerWidth/2-t)/35,a=(window.innerHeight/2-n)/25;this.gameTiles.style.transform="rotateY("+r+"deg) rotateX("+a+"deg)"}},{key:"getGameState",value:function(e){var t=e.tileNumber,n=e.tileSize,r=Math.pow(t,2);return{tileSize:n,tileNumber:t,tileTotal:r,layout:m.a.range(r).map(function(e){var r=Math.floor(e/t),a=e%t;return[n*a,n*r]}),order:m.a.range(1,r+1),win:!1,isTouch:h.a.bind()()}}},{key:"shuffle",value:function(){this.recursiveShuffle(m.a.shuffle(w),1)}},{key:"recursiveShuffle",value:function(e,t){var n=this,r=m.a.take(e,3);m.a.forEach(r,function(e){return n.moveTile({keyCode:e})}),100>t&&this.recursiveShuffle(m.a.shuffle(w),t+1)}},{key:"changeTileNumber",value:function(e){var t=this.state.tileSize,n=parseInt(e.currentTarget.value,10),r=this.getGameState({tileNumber:n,tileSize:t});n>1&&this.setState(r)}},{key:"swipe",value:function(e){var t=e.direction,n=N[t];n&&this.moveTile({keyCode:n})}},{key:"moveTile",value:function(e){var t=e.keyCode,n=this.state,r=n.order,a=n.tileNumber,i=n.tileTotal,o=r.indexOf(i),u=-1;switch(t){case E:a-1>o%a&&(u=o+1);break;case k:u=o+a;break;case T:o%a>0&&(u=o-1);break;case O:u=o-a}if(!(0>u||u>=i)){var l=h.b.bind()(r,u,o),c=h.c.bind()(l);this.setState({order:l,win:c})}}},{key:"getKeyPos",value:function(e){var t=this.state,n=t.order,r=t.layout,a=n.indexOf(e);return r[a]}},{key:"render",value:function(){var e=this,t=this.state,n=t.win,r=t.order,a=t.tileNumber,i=t.tileTotal,o=t.tileSize,l=t.isTouch,f=c.a.bind()("game__container",{"game__container--win":n});return u.a.createElement("section",{className:"game"},u.a.createElement("header",{className:"game__actions"},u.a.createElement("button",{type:"button",onClick:this.shuffle},"Reset"),u.a.createElement("label",null,"Size:",u.a.createElement("input",{type:"number",size:"2",onChange:this.changeTileNumber,onKeyDown:function(e){return e.stopPropagation()},defaultValue:a}))),l&&u.a.createElement(b.a,{onSwipe:this.swipe,vertical:!0},u.a.createElement("div",{className:"game__layer"})),u.a.createElement("section",{className:f},u.a.createElement("div",{className:"game__platform",ref:function(t){return e.gameTiles=t}},u.a.createElement("div",{className:"game__tiles",style:{width:o*a,height:o*a}},r.map(function(t){var n=e.getKeyPos(t),r=g(n,2),a=r[0],l=r[1],c={translateX:s.spring.bind()(a,P),translateY:s.spring.bind()(l,P)};return u.a.createElement(s.Motion,{key:t,style:c},function(e){var n=e.translateX,r=e.translateY;e.display,e.width,e.height;return u.a.createElement("div",{className:"game__tile",style:{display:t===i?"none":"block",width:o,height:o,transform:"translate3d("+n+"px, "+r+"px, 0)"}},u.a.createElement("div",{className:"tile"},u.a.createElement("span",{className:"tile__text"},t)))})})),u.a.createElement("div",{className:"game__win"},u.a.createElement("span",null,"YOU WIN")))))}}]),t}(o.Component);S.defaultProps={tileSize:60,tileNumber:4},t.a=S},183:function(e,t,n){"use strict";var r=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0};Object.defineProperty(t,"a",{configurable:!1,enumerable:!0,get:function(){return r}});var a=function(e,t,n){var r=e[n];return e[n]=e[t],e[t]=r,e};Object.defineProperty(t,"b",{configurable:!1,enumerable:!0,get:function(){return a}});var i=function(e){return _.every(e,function(e,t,n){return 0===t||n[t-1]<e})};Object.defineProperty(t,"c",{configurable:!1,enumerable:!0,get:function(){return i}})},184:function(e,t){},187:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";var r=n(17),a=r&&r.__esModule?function(){return r.default}:function(){return r};Object.defineProperty(a,"a",{get:a});var i=n(62),o=i&&i.__esModule?function(){return i.default}:function(){return i};Object.defineProperty(o,"a",{get:o});var u=n(182);o.a.render(a.a.createElement(u.a,null),document.getElementById("app"))}},[187]);
//# sourceMappingURL=main-fa24c009c2c2fc698c13.js.map