{"version":3,"sources":["webpack:///main-e7d82b79c0b78576d4fe.js","webpack:///./src/index.js","webpack:///./src/components/App.js","webpack:///./src/utils/appUtils.js"],"names":["webpackJsonp","137","module","exports","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","__esModule","Object","defineProperty","get","__WEBPACK_IMPORTED_MODULE_1_react_dom__","__WEBPACK_IMPORTED_MODULE_1_react_dom___default","__WEBPACK_IMPORTED_MODULE_2__components_App__","a","render","createElement","document","getElementById","277","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default","__WEBPACK_IMPORTED_MODULE_6_react__","__WEBPACK_IMPORTED_MODULE_6_react___default","__WEBPACK_IMPORTED_MODULE_7_classnames__","__WEBPACK_IMPORTED_MODULE_7_classnames___default","__WEBPACK_IMPORTED_MODULE_8_react_motion__","__WEBPACK_IMPORTED_MODULE_8_react_motion___default","__WEBPACK_IMPORTED_MODULE_9_lodash__","__WEBPACK_IMPORTED_MODULE_9_lodash___default","__WEBPACK_IMPORTED_MODULE_10_react_hammerjs__","__WEBPACK_IMPORTED_MODULE_10_react_hammerjs___default","__WEBPACK_IMPORTED_MODULE_11__utils_appUtils__","__WEBPACK_IMPORTED_MODULE_12__app_scss__","__WEBPACK_IMPORTED_MODULE_12__app_scss___default","keys","LEFT","UP","RIGHT","DOWN","mapSwipeKeys","2","8","4","16","springSetting","stiffness","damping","App","_Component","props","bind","this","_this","call","state","getGameState","rotateGame","orientGame","moveTile","shuffle","changeTileNumber","swipe","key","value","addEventListener","window","e","gameTiles","style","transform","gamma","beta","x","layerX","offsetX","y","layerY","offsetY","ax","innerWidth","ay","innerHeight","_ref","tileNumber","tileSize","tileTotal","Math","pow","layout","range","map","n","row","floor","col","order","win","isTouch","recursiveShuffle","shuffled","i","_this2","choice","take","forEach","keyCode","parseInt","currentTarget","newState","setState","_ref2","direction","_ref3","_state","emptyIndex","indexOf","tileIndex","newOrder","_state2","pos","_this3","_state3","gameClassName","game__container--win","className","type","onClick","size","onChange","onKeyDown","stopPropagation","defaultValue","onSwipe","vertical","ref","_ref5","width","height","_getKeyPos","getKeyPos","_getKeyPos2","translateX","translateY","_ref4","display","defaultProps","278","isTouchDevice","navigator","MaxTouchPoints","msMaxTouchPoints","configurable","enumerable","swap","arr","from","to","tmp","checkWin","_","every","index","array","279","282"],"mappings":"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","file":"main-e7d82b79c0b78576d4fe.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 137:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __WEBPACK_IMPORTED_MODULE_0_react__ && __WEBPACK_IMPORTED_MODULE_0_react__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_react__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_react__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_react___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_react___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(106);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __WEBPACK_IMPORTED_MODULE_1_react_dom__ && __WEBPACK_IMPORTED_MODULE_1_react_dom__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_react_dom__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_react_dom__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_react_dom___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_react_dom___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_App__ = __webpack_require__(277);\n\t\n\t\n\t\n\t\n\t\n\t/* harmony import */__WEBPACK_IMPORTED_MODULE_1_react_dom___default.a.render(/* harmony import */__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(/* harmony import */__WEBPACK_IMPORTED_MODULE_2__components_App__[\"a\"], null), document.getElementById('app'));\n\n/***/ },\n\n/***/ 277:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ = __webpack_require__(150);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__ && __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ = __webpack_require__(142);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__ && __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(146);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ && __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(147);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ && __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ = __webpack_require__(149);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default = __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__ && __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ = __webpack_require__(148);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__ && __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react__ = __webpack_require__(27);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_react___default = __WEBPACK_IMPORTED_MODULE_6_react__ && __WEBPACK_IMPORTED_MODULE_6_react__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_6_react__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_6_react__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_6_react___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_6_react___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames__ = __webpack_require__(189);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_classnames___default = __WEBPACK_IMPORTED_MODULE_7_classnames__ && __WEBPACK_IMPORTED_MODULE_7_classnames__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_7_classnames__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_7_classnames__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_7_classnames___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_7_classnames___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_motion__ = __webpack_require__(209);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_motion___default = __WEBPACK_IMPORTED_MODULE_8_react_motion__ && __WEBPACK_IMPORTED_MODULE_8_react_motion__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_8_react_motion__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_8_react_motion__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_8_react_motion___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_8_react_motion___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_lodash__ = __webpack_require__(203);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_lodash___default = __WEBPACK_IMPORTED_MODULE_9_lodash__ && __WEBPACK_IMPORTED_MODULE_9_lodash__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_9_lodash__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_9_lodash__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_9_lodash___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_9_lodash___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_react_hammerjs__ = __webpack_require__(204);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_react_hammerjs___default = __WEBPACK_IMPORTED_MODULE_10_react_hammerjs__ && __WEBPACK_IMPORTED_MODULE_10_react_hammerjs__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_10_react_hammerjs__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_10_react_hammerjs__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_10_react_hammerjs___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_10_react_hammerjs___default });\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_appUtils__ = __webpack_require__(278);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__app_scss__ = __webpack_require__(279);\n\t/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__app_scss___default = __WEBPACK_IMPORTED_MODULE_12__app_scss__ && __WEBPACK_IMPORTED_MODULE_12__app_scss__.__esModule ? function() { return __WEBPACK_IMPORTED_MODULE_12__app_scss__['default'] } : function() { return __WEBPACK_IMPORTED_MODULE_12__app_scss__; }\n\t/* harmony import */ Object.defineProperty(__WEBPACK_IMPORTED_MODULE_12__app_scss___default, 'a', { get: __WEBPACK_IMPORTED_MODULE_12__app_scss___default });\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar keys = [37, 38, 39, 40];\n\tvar LEFT = keys[0];\n\tvar UP = keys[1];\n\tvar RIGHT = keys[2];\n\tvar DOWN = keys[3];\n\t\n\tvar mapSwipeKeys = { 2: LEFT, 8: UP, 4: RIGHT, 16: DOWN };\n\tvar springSetting = { stiffness: 800, damping: 15 };\n\t\n\tvar App = function (_Component) {\n\t  /* harmony import */__WEBPACK_IMPORTED_MODULE_5_babel_runtime_helpers_inherits___default.a.bind()(App, _Component);\n\t\n\t  function App(props) {\n\t    /* harmony import */__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default.a.bind()(this, App);\n\t\n\t    var _this = /* harmony import */__WEBPACK_IMPORTED_MODULE_4_babel_runtime_helpers_possibleConstructorReturn___default.a.bind()(this, /* harmony import */__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_get_prototype_of___default.a.bind()(App).call(this, props));\n\t\n\t    _this.state = _this.getGameState(props);\n\t    _this.rotateGame = _this.rotateGame.bind(_this);\n\t    _this.orientGame = _this.orientGame.bind(_this);\n\t    _this.moveTile = _this.moveTile.bind(_this);\n\t    _this.shuffle = _this.shuffle.bind(_this);\n\t    _this.changeTileNumber = _this.changeTileNumber.bind(_this);\n\t    _this.swipe = _this.swipe.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  /* harmony import */__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default.a.bind()(App, [{\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      document.addEventListener('keydown', this.moveTile);\n\t      document.addEventListener('mousemove', this.rotateGame);\n\t      window.addEventListener('deviceorientation', this.orientGame);\n\t    }\n\t  }, {\n\t    key: 'orientGame',\n\t    value: function orientGame(e) {\n\t      this.gameTiles.style.transform = \"rotateY(\" + -e.gamma + \"deg)\" + \"rotateX(\" + (e.beta - 50) + \"deg) \";\n\t    }\n\t  }, {\n\t    key: 'rotateGame',\n\t    value: function rotateGame(e) {\n\t      var x = e.layerX || e.offsetX;\n\t      var y = e.layerY || e.offsetY;\n\t\n\t      var ax = -(window.innerWidth / 2 - x) / 35;\n\t      var ay = (window.innerHeight / 2 - y) / 25;\n\t\n\t      this.gameTiles.style.transform = 'rotateY(' + ax + 'deg) rotateX(' + ay + 'deg)';\n\t    }\n\t  }, {\n\t    key: 'getGameState',\n\t    value: function getGameState(_ref) {\n\t      var tileNumber = _ref.tileNumber;\n\t      var tileSize = _ref.tileSize;\n\t\n\t      var tileTotal = Math.pow(tileNumber, 2);\n\t      return {\n\t        tileSize: tileSize,\n\t        tileNumber: tileNumber,\n\t        tileTotal: tileTotal,\n\t        layout: /* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.range(tileTotal).map(function (n) {\n\t          var row = Math.floor(n / tileNumber);\n\t          var col = n % tileNumber;\n\t          return [tileSize * col, tileSize * row];\n\t        }),\n\t        order: /* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.range(1, tileTotal + 1),\n\t        win: false,\n\t        isTouch: /* harmony import */__WEBPACK_IMPORTED_MODULE_11__utils_appUtils__[\"a\"].bind()()\n\t      };\n\t    }\n\t  }, {\n\t    key: 'shuffle',\n\t    value: function shuffle() {\n\t      this.recursiveShuffle(/* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.shuffle(keys), 1);\n\t    }\n\t  }, {\n\t    key: 'recursiveShuffle',\n\t    value: function recursiveShuffle(shuffled, i) {\n\t      var _this2 = this;\n\t\n\t      var choice = /* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.take(shuffled, 3);\n\t      /* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.forEach(choice, function (keyCode) {\n\t        return _this2.moveTile({\n\t          keyCode: keyCode\n\t        });\n\t      });\n\t      i < 100 && this.recursiveShuffle(/* harmony import */__WEBPACK_IMPORTED_MODULE_9_lodash___default.a.shuffle(keys), i + 1);\n\t    }\n\t  }, {\n\t    key: 'changeTileNumber',\n\t    value: function changeTileNumber(e) {\n\t      var tileNumber = parseInt(e.currentTarget.value, 10);\n\t      var newState = this.getGameState({ tileNumber: tileNumber, tileSize: window.innerWidth / tileNumber * .9 });\n\t      tileNumber > 1 && this.setState(newState);\n\t    }\n\t  }, {\n\t    key: 'swipe',\n\t    value: function swipe(_ref2) {\n\t      var direction = _ref2.direction;\n\t\n\t      var keyCode = mapSwipeKeys[direction];\n\t      keyCode && this.moveTile({ keyCode: keyCode });\n\t    }\n\t  }, {\n\t    key: 'moveTile',\n\t    value: function moveTile(_ref3) {\n\t      var keyCode = _ref3.keyCode;\n\t      var _state = this.state;\n\t      var order = _state.order;\n\t      var tileNumber = _state.tileNumber;\n\t      var tileTotal = _state.tileTotal;\n\t\n\t      var emptyIndex = order.indexOf(tileTotal);\n\t\n\t      var tileIndex = -1;\n\t\n\t      switch (keyCode) {\n\t        case LEFT:\n\t          emptyIndex % tileNumber < tileNumber - 1 && (tileIndex = emptyIndex + 1);\n\t          break;\n\t        case UP:\n\t          tileIndex = emptyIndex + tileNumber;\n\t          break;\n\t        case RIGHT:\n\t          emptyIndex % tileNumber > 0 && (tileIndex = emptyIndex - 1);\n\t          break;\n\t        case DOWN:\n\t          tileIndex = emptyIndex - tileNumber;\n\t          break;\n\t      }\n\t\n\t      if (tileIndex < 0 || tileIndex >= tileTotal) return;\n\t\n\t      var newOrder = /* harmony import */__WEBPACK_IMPORTED_MODULE_11__utils_appUtils__[\"b\"].bind()(order, tileIndex, emptyIndex);\n\t      var win = /* harmony import */__WEBPACK_IMPORTED_MODULE_11__utils_appUtils__[\"c\"].bind()(newOrder);\n\t\n\t      this.setState({\n\t        order: newOrder,\n\t        win: win\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getKeyPos',\n\t    value: function getKeyPos(key) {\n\t      var _state2 = this.state;\n\t      var order = _state2.order;\n\t      var layout = _state2.layout;\n\t\n\t      var pos = order.indexOf(key);\n\t      return layout[pos];\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this3 = this;\n\t\n\t      var _state3 = this.state;\n\t      var win = _state3.win;\n\t      var order = _state3.order;\n\t      var tileNumber = _state3.tileNumber;\n\t      var tileTotal = _state3.tileTotal;\n\t      var tileSize = _state3.tileSize;\n\t      var isTouch = _state3.isTouch;\n\t\n\t      var gameClassName = /* harmony import */__WEBPACK_IMPORTED_MODULE_7_classnames___default.a.bind()('game__container', {\n\t        'game__container--win': win\n\t      });\n\t\n\t      return /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t        'section',\n\t        { className: 'game' },\n\t        /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t          'header',\n\t          { className: 'game__actions' },\n\t          /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t            'button',\n\t            { type: 'button', onClick: this.shuffle },\n\t            'Reset'\n\t          ),\n\t          /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t            'label',\n\t            null,\n\t            'Size:',\n\t            /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('input', { type: 'number',\n\t              size: '2',\n\t              onChange: this.changeTileNumber,\n\t              onKeyDown: function onKeyDown(e) {\n\t                return e.stopPropagation();\n\t              },\n\t              defaultValue: tileNumber })\n\t          )\n\t        ),\n\t        isTouch && /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t          /* harmony import */__WEBPACK_IMPORTED_MODULE_10_react_hammerjs___default.a,\n\t          { onSwipe: this.swipe, vertical: true },\n\t          /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement('div', { className: 'game__layer' })\n\t        ),\n\t        /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t          'section',\n\t          { className: gameClassName },\n\t          /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t            'div',\n\t            { className: 'game__platform', ref: function ref(_ref5) {\n\t                return _this3.gameTiles = _ref5;\n\t              } },\n\t            /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t              'div',\n\t              { className: 'game__tiles',\n\t                style: { width: tileSize * tileNumber, height: tileSize * tileNumber } },\n\t              order.map(function (key) {\n\t                var _getKeyPos = _this3.getKeyPos(key);\n\t\n\t                var _getKeyPos2 = /* harmony import */__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_slicedToArray___default.a.bind()(_getKeyPos, 2);\n\t\n\t                var x = _getKeyPos2[0];\n\t                var y = _getKeyPos2[1];\n\t\n\t                var style = {\n\t                  translateX: /* harmony import */__WEBPACK_IMPORTED_MODULE_8_react_motion__[\"spring\"].bind()(x, springSetting),\n\t                  translateY: /* harmony import */__WEBPACK_IMPORTED_MODULE_8_react_motion__[\"spring\"].bind()(y, springSetting)\n\t                };\n\t\n\t                return /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t                  /* harmony import */__WEBPACK_IMPORTED_MODULE_8_react_motion__[\"Motion\"],\n\t                  { key: key, style: style },\n\t                  function (_ref4) {\n\t                    var translateX = _ref4.translateX;\n\t                    var translateY = _ref4.translateY;\n\t                    var display = _ref4.display;\n\t                    var width = _ref4.width;\n\t                    var height = _ref4.height;\n\t                    return /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t                      'div',\n\t                      { className: 'game__tile',\n\t                        style: {\n\t                          display: key === tileTotal ? 'none' : 'block',\n\t                          width: tileSize,\n\t                          height: tileSize,\n\t                          transform: 'translate3d(' + translateX + 'px, ' + translateY + 'px, 0)' } },\n\t                      /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t                        'div',\n\t                        { className: 'tile' },\n\t                        /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t                          'span',\n\t                          { className: 'tile__text' },\n\t                          key\n\t                        )\n\t                      )\n\t                    );\n\t                  }\n\t                );\n\t              })\n\t            ),\n\t            /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t              'div',\n\t              { className: 'game__win' },\n\t              /* harmony import */__WEBPACK_IMPORTED_MODULE_6_react___default.a.createElement(\n\t                'span',\n\t                null,\n\t                'YOU WIN'\n\t              )\n\t            )\n\t          )\n\t        )\n\t      );\n\t    }\n\t  }]);\n\t\n\t  return App;\n\t}(/* harmony import */__WEBPACK_IMPORTED_MODULE_6_react__[\"Component\"]);\n\t\n\tApp.defaultProps = {\n\t  tileSize: window.innerWidth / 4 * .9,\n\t  tileNumber: 4\n\t};\n\t\n\t/* harmony default export */ exports[\"a\"] = App;\n\n/***/ },\n\n/***/ 278:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar isTouchDevice = function isTouchDevice() {\n\t  return 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"a\", {configurable: false, enumerable: true, get: function() { return isTouchDevice; }});\n\t\n\tvar swap = function swap(arr, from, to) {\n\t  var tmp = arr[to];\n\t  arr[to] = arr[from];\n\t  arr[from] = tmp;\n\t  return arr;\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"b\", {configurable: false, enumerable: true, get: function() { return swap; }});\n\t\n\tvar checkWin = function checkWin(order) {\n\t  return _.every(order, function (value, index, array) {\n\t    return index === 0 || array[index - 1] < value;\n\t  });\n\t};\n\t/* harmony export */ Object.defineProperty(exports, \"c\", {configurable: false, enumerable: true, get: function() { return checkWin; }});\n\n/***/ },\n\n/***/ 279:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 282:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(137);\n\n\n/***/ }\n\n},[282]);\n\n\n/** WEBPACK FOOTER **\n ** main-e7d82b79c0b78576d4fe.js\n **/","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'compo/App';\n\nReactDOM.render(<App />, document.getElementById('app'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import React, { Component } from 'react'\nimport c from 'classnames'\nimport { Motion, spring } from 'react-motion'\nimport _ from 'lodash'\nimport Hammer from 'react-hammerjs'\nimport { isTouchDevice, swap, checkWin } from '../utils/appUtils'\n\nimport './app.scss'\n\nconst keys = [37, 38, 39, 40]\nconst [LEFT, UP, RIGHT, DOWN] = keys\nconst mapSwipeKeys = {2: LEFT, 8: UP, 4: RIGHT, 16: DOWN}\nconst springSetting = {stiffness: 800, damping: 15}\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = this.getGameState(props)\n    this.rotateGame = this.rotateGame.bind(this)\n    this.orientGame = this.orientGame.bind(this)\n    this.moveTile = this.moveTile.bind(this)\n    this.shuffle = this.shuffle.bind(this)\n    this.changeTileNumber = this.changeTileNumber.bind(this)\n    this.swipe = this.swipe.bind(this)\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.moveTile)\n    document.addEventListener('mousemove', this.rotateGame)\n    window.addEventListener('deviceorientation', this.orientGame)\n  }\n\n  orientGame(e) {\n    this.gameTiles.style.transform =\n      \"rotateY(\" + ( -e.gamma ) + \"deg)\" +\n      \"rotateX(\" + (e.beta - 50) + \"deg) \";\n  }\n\n  rotateGame(e) {\n    const x = e.layerX || e.offsetX\n    const y = e.layerY || e.offsetY\n\n    const ax = -(window.innerWidth / 2 - x) / 35\n    const ay = (window.innerHeight / 2 - y) / 25\n\n    this.gameTiles.style.transform = `rotateY(${ax}deg) rotateX(${ay}deg)`\n  }\n\n  getGameState({ tileNumber, tileSize }) {\n    const tileTotal = Math.pow(tileNumber, 2)\n    return {\n      tileSize,\n      tileNumber,\n      tileTotal,\n      layout: _.range(tileTotal).map(n => {\n        const row = Math.floor(n / tileNumber)\n        const col = n % tileNumber\n        return [tileSize * col, tileSize * row]\n      }),\n      order: _.range(1, tileTotal + 1),\n      win: false,\n      isTouch: isTouchDevice()\n    }\n  }\n\n  shuffle() {\n    this.recursiveShuffle(_.shuffle(keys), 1)\n  }\n\n  recursiveShuffle(shuffled, i) {\n    let choice = _.take(shuffled, 3)\n    _.forEach(choice, keyCode => this.moveTile({\n      keyCode\n    }))\n    i < 100 && this.recursiveShuffle(_.shuffle(keys), i + 1)\n  }\n\n  changeTileNumber(e) {\n    const tileNumber = parseInt(e.currentTarget.value, 10)\n    const newState = this.getGameState({tileNumber, tileSize: (window.innerWidth / tileNumber) * .9})\n    tileNumber > 1 && this.setState(newState)\n  }\n\n  swipe({ direction }) {\n    const keyCode = mapSwipeKeys[direction]\n    keyCode && this.moveTile({ keyCode })\n  }\n\n  moveTile({ keyCode }) {\n    const { order, tileNumber, tileTotal } = this.state\n    const emptyIndex = order.indexOf(tileTotal)\n\n    let tileIndex = -1\n\n    switch (keyCode) {\n      case LEFT:\n        (emptyIndex % tileNumber < (tileNumber - 1)) && (tileIndex = emptyIndex + 1)\n        break\n      case UP:\n        tileIndex = emptyIndex + tileNumber\n        break\n      case RIGHT:\n        (emptyIndex % tileNumber > 0) && (tileIndex = emptyIndex - 1)\n        break\n      case DOWN:\n        tileIndex = emptyIndex - tileNumber\n        break\n    }\n\n    if (tileIndex < 0 || tileIndex >= tileTotal) return\n\n    const newOrder = swap(order, tileIndex, emptyIndex)\n    const win = checkWin(newOrder)\n\n    this.setState({\n      order: newOrder,\n      win\n    })\n  }\n\n  getKeyPos(key) {\n    const { order, layout } = this.state\n    const pos = order.indexOf(key)\n    return layout[pos]\n  }\n\n  render() {\n    const { win, order, tileNumber, tileTotal, tileSize, isTouch } = this.state\n    const gameClassName = c(\n      'game__container', {\n        'game__container--win': win\n      }\n    )\n\n    return (\n      <section className=\"game\">\n        <header className=\"game__actions\">\n          <button type=\"button\" onClick={this.shuffle}>Reset</button>\n          <label>\n            Size:\n            <input type=\"number\"\n                   size=\"2\"\n                   onChange={this.changeTileNumber}\n                   onKeyDown={e => e.stopPropagation()}\n                   defaultValue={tileNumber}/>\n          </label>\n        </header>\n\n        {isTouch &&\n        <Hammer onSwipe={this.swipe} vertical={true}>\n          <div className=\"game__layer\"></div>\n        </Hammer>}\n\n        <section className={gameClassName}>\n          <div className=\"game__platform\" ref={ref => this.gameTiles = ref}>\n            <div className=\"game__tiles\"\n                 style={{width: tileSize * tileNumber, height: tileSize * tileNumber}}>\n              {order.map(key => {\n                const [x, y] = this.getKeyPos(key)\n                const style = {\n                  translateX: spring(x, springSetting),\n                  translateY: spring(y, springSetting),\n                }\n\n                return (\n                  <Motion key={key} style={style}>\n                    {({translateX, translateY, display, width, height}) => (\n                      <div className=\"game__tile\"\n                           style={{\n                                display: key === tileTotal ? 'none' : 'block',\n                                width: tileSize,\n                                height: tileSize,\n                                transform: `translate3d(${translateX}px, ${translateY}px, 0)`}}>\n                        <div className=\"tile\">\n                          <span className=\"tile__text\">{key}</span>\n                        </div>\n                      </div>\n                    )}\n                  </Motion>\n                )\n              })}\n            </div>\n            <div className=\"game__win\">\n              <span>YOU WIN</span>\n            </div>\n          </div>\n        </section>\n      </section>\n    )\n  }\n}\n\nApp.defaultProps = {\n  tileSize: window.innerWidth / 4 * .9,\n  tileNumber: 4\n}\n\nexport default App\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/components/App.js\n **/","export const isTouchDevice = () => {\n  return (('ontouchstart' in window)\n  || (navigator.MaxTouchPoints > 0)\n  || (navigator.msMaxTouchPoints > 0));\n}\n\nexport const swap = (arr, from, to) => {\n  const tmp = arr[to]\n  arr[to] = arr[from]\n  arr[from] = tmp\n  return arr\n}\n\nexport const checkWin = (order) => {\n  return _.every(order, (value, index, array)=>\n    index === 0 || array[index - 1] < value\n  )\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/appUtils.js\n **/"],"sourceRoot":""}